<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 2 Les types de cartes | Cartographie avec R</title>
  <meta name="description" content="Chapitre 2 Les types de cartes | Cartographie avec R" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 2 Les types de cartes | Cartographie avec R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/img/globe-africa-solid.svg" />
  <meta property="og:description" content="Chapitre 2 Les types de cartes | Cartographie avec R" />
  <meta name="github-repo" content="rCarto/cartographie_avec_r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 2 Les types de cartes | Cartographie avec R" />
  
  <meta name="twitter:description" content="Chapitre 2 Les types de cartes | Cartographie avec R" />
  <meta name="twitter:image" content="/img/globe-africa-solid.svg" />

<meta name="author" content="Timothée Giraud[^1] &amp; Hugues Pecout[^2]" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/globe-africa-solid.svg" type="image/x-icon" />
<link rel="prev" href="mapsf.html"/>
<link rel="next" href="la-mise-en-page.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Cartographie avec R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préambule</a></li>
<li class="chapter" data-level="1" data-path="mapsf.html"><a href="mapsf.html"><i class="fa fa-check"></i><b>1</b> mapsf</a>
<ul>
<li class="chapter" data-level="1.1" data-path="mapsf.html"><a href="mapsf.html#présentation"><i class="fa fa-check"></i><b>1.1</b> Présentation</a></li>
<li class="chapter" data-level="1.2" data-path="mapsf.html"><a href="mapsf.html#documentation"><i class="fa fa-check"></i><b>1.2</b> Documentation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html"><i class="fa fa-check"></i><b>2</b> Les types de cartes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#les-données-dexemple"><i class="fa fa-check"></i><b>2.1</b> Les données d’exemple</a></li>
<li class="chapter" data-level="2.2" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#afficher-un-fond-de-carte"><i class="fa fa-check"></i><b>2.2</b> Afficher un fond de carte</a></li>
<li class="chapter" data-level="2.3" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#carte-de-symboles-proportionnels"><i class="fa fa-check"></i><b>2.3</b> Carte de symboles proportionnels</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#comparer-plusieurs-cartes"><i class="fa fa-check"></i><b>2.3.1</b> Comparer plusieurs cartes</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#carte-choroplèthe"><i class="fa fa-check"></i><b>2.4</b> Carte choroplèthe</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#discretisation"><i class="fa fa-check"></i><b>2.4.1</b> Discrétisations</a></li>
<li class="chapter" data-level="2.4.2" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#palettes"><i class="fa fa-check"></i><b>2.4.2</b> Palettes de couleurs</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#carte-de-typologie"><i class="fa fa-check"></i><b>2.5</b> Carte de typologie</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#ordonner-les-valeurs-dans-la-légende"><i class="fa fa-check"></i><b>2.5.1</b> Ordonner les valeurs dans la légende</a></li>
<li class="chapter" data-level="2.5.2" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#les-cartes-de-points"><i class="fa fa-check"></i><b>2.5.2</b> Les cartes de points</a></li>
<li class="chapter" data-level="2.5.3" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#les-cartes-de-lignes"><i class="fa fa-check"></i><b>2.5.3</b> Les cartes de lignes</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#carte-de-stocks-et-de-ratios"><i class="fa fa-check"></i><b>2.6</b> Carte de stocks et de ratios</a></li>
<li class="chapter" data-level="2.7" data-path="les-types-de-cartes.html"><a href="les-types-de-cartes.html#carte-de-stocks-et-de-catégories"><i class="fa fa-check"></i><b>2.7</b> Carte de stocks et de catégories</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html"><i class="fa fa-check"></i><b>3</b> La mise en page</a>
<ul>
<li class="chapter" data-level="3.1" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#les-données-dexemple-1"><i class="fa fa-check"></i><b>3.1</b> Les données d’exemple</a></li>
<li class="chapter" data-level="3.2" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#les-thèmes"><i class="fa fa-check"></i><b>3.2</b> Les thèmes</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#utiliser-un-thème-prédéfini"><i class="fa fa-check"></i><b>3.2.1</b> Utiliser un thème prédéfini</a></li>
<li class="chapter" data-level="3.2.2" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#modifier-un-thème-existant"><i class="fa fa-check"></i><b>3.2.2</b> Modifier un thème existant</a></li>
<li class="chapter" data-level="3.2.3" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#créer-un-thème"><i class="fa fa-check"></i><b>3.2.3</b> Créer un thème</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#les-titres"><i class="fa fa-check"></i><b>3.3</b> Les titres</a></li>
<li class="chapter" data-level="3.4" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#flèche-dorientation"><i class="fa fa-check"></i><b>3.4</b> Flèche d’orientation</a></li>
<li class="chapter" data-level="3.5" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#échelle"><i class="fa fa-check"></i><b>3.5</b> Échelle</a></li>
<li class="chapter" data-level="3.6" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#crédits"><i class="fa fa-check"></i><b>3.6</b> Crédits</a></li>
<li class="chapter" data-level="3.7" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#habillage-complet"><i class="fa fa-check"></i><b>3.7</b> Habillage complet</a></li>
<li class="chapter" data-level="3.8" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#annotations"><i class="fa fa-check"></i><b>3.8</b> Annotations</a></li>
<li class="chapter" data-level="3.9" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#les-légendes"><i class="fa fa-check"></i><b>3.9</b> Les légendes</a></li>
<li class="chapter" data-level="3.10" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#étiquettes"><i class="fa fa-check"></i><b>3.10</b> Étiquettes</a></li>
<li class="chapter" data-level="3.11" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#centrer-la-carte-sur-une-région"><i class="fa fa-check"></i><b>3.11</b> Centrer la carte sur une région</a></li>
<li class="chapter" data-level="3.12" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#afficher-plusieurs-cartes-sur-la-même-figure"><i class="fa fa-check"></i><b>3.12</b> Afficher plusieurs cartes sur la même figure</a></li>
<li class="chapter" data-level="3.13" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#export-des-cartes"><i class="fa fa-check"></i><b>3.13</b> Export des cartes</a></li>
<li class="chapter" data-level="3.14" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#ajouter-une-image-sur-une-carte"><i class="fa fa-check"></i><b>3.14</b> Ajouter une image sur une carte</a></li>
<li class="chapter" data-level="3.15" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#placer-précisément-un-élément-sur-la-carte"><i class="fa fa-check"></i><b>3.15</b> Placer précisément un élément sur la carte</a></li>
<li class="chapter" data-level="3.16" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#ajouter-un-ombrage-à-une-couche"><i class="fa fa-check"></i><b>3.16</b> Ajouter un ombrage à une couche</a></li>
<li class="chapter" data-level="3.17" data-path="la-mise-en-page.html"><a href="la-mise-en-page.html#création-de-cartons"><i class="fa fa-check"></i><b>3.17</b> Création de cartons</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="les-cartes-en-3d.html"><a href="les-cartes-en-3d.html"><i class="fa fa-check"></i><b>4</b> Les cartes en 3D</a>
<ul>
<li class="chapter" data-level="4.1" data-path="les-cartes-en-3d.html"><a href="les-cartes-en-3d.html#linemap"><i class="fa fa-check"></i><b>4.1</b> linemap</a></li>
<li class="chapter" data-level="4.2" data-path="les-cartes-en-3d.html"><a href="les-cartes-en-3d.html#relief-tanaka"><i class="fa fa-check"></i><b>4.2</b> Relief Tanaka</a></li>
<li class="chapter" data-level="4.3" data-path="les-cartes-en-3d.html"><a href="les-cartes-en-3d.html#rayshader"><i class="fa fa-check"></i><b>4.3</b> rayshader</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="les-transformations-cartographiques.html"><a href="les-transformations-cartographiques.html"><i class="fa fa-check"></i><b>5</b> Les transformations cartographiques</a>
<ul>
<li class="chapter" data-level="5.1" data-path="les-transformations-cartographiques.html"><a href="les-transformations-cartographiques.html#les-cartogrammes-de-dorling"><i class="fa fa-check"></i><b>5.1</b> Les cartogrammes de Dorling</a></li>
<li class="chapter" data-level="5.2" data-path="les-transformations-cartographiques.html"><a href="les-transformations-cartographiques.html#les-cartogrammes-non-continus"><i class="fa fa-check"></i><b>5.2</b> Les cartogrammes non continus</a></li>
<li class="chapter" data-level="5.3" data-path="les-transformations-cartographiques.html"><a href="les-transformations-cartographiques.html#les-cartogrammes-continus"><i class="fa fa-check"></i><b>5.3</b> Les cartogrammes continus</a></li>
<li class="chapter" data-level="5.4" data-path="les-transformations-cartographiques.html"><a href="les-transformations-cartographiques.html#forces-et-faiblesses-des-cartogrammes"><i class="fa fa-check"></i><b>5.4</b> Forces et faiblesses des cartogrammes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sessioninfo.html"><a href="sessioninfo.html"><i class="fa fa-check"></i><b>6</b> <code>sessionInfo()</code></a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rCarto/cartographie_avec_r" target="blank">Contribuer</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Cartographie avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="les-types-de-cartes" class="section level1" number="2">
<h1><span class="header-section-number">Chapitre 2</span> Les types de cartes</h1>
<p>La fonction <code>mf_map()</code> est la fonction centrale du package <code>mapsf</code>. Elle permet de réaliser la plupart des représentations usuelles en cartographie.
Ces arguments principaux sont :</p>
<ul>
<li><code>x</code>, un objet sf ;</li>
<li><code>var</code>, le nom de la variable à représenter ;</li>
<li><code>type</code>, le type de représentation.</li>
</ul>
<div id="les-données-dexemple" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Les données d’exemple</h2>
<p>Les lignes suivantes importent les couches d’information spatiales situées dans le fichier <a href="https://www.geopackage.org/">geopackage</a> <strong>lot46.gpkg</strong>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="les-types-de-cartes.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-2"><a href="les-types-de-cartes.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># import des communes du Lot</span></span>
<span id="cb1-3"><a href="les-types-de-cartes.html#cb1-3" aria-hidden="true" tabindex="-1"></a>com <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/lot46.gpkg&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;commune&quot;</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-4"><a href="les-types-de-cartes.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># import des départments français</span></span>
<span id="cb1-5"><a href="les-types-de-cartes.html#cb1-5" aria-hidden="true" tabindex="-1"></a>dep <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/lot46.gpkg&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;departement&quot;</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-6"><a href="les-types-de-cartes.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># import des restaurants</span></span>
<span id="cb1-7"><a href="les-types-de-cartes.html#cb1-7" aria-hidden="true" tabindex="-1"></a>resto <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/lot46.gpkg&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;restaurant&quot;</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-8"><a href="les-types-de-cartes.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># import des routes</span></span>
<span id="cb1-9"><a href="les-types-de-cartes.html#cb1-9" aria-hidden="true" tabindex="-1"></a>route <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/lot46.gpkg&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;route&quot;</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="afficher-un-fond-de-carte" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Afficher un fond de carte</h2>
<p>Utilisée sans précision de type, la fonction <code>mf_map()</code> affiche simplement le fond de carte.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="les-types-de-cartes.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapsf)</span>
<span id="cb2-2"><a href="les-types-de-cartes.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Communes</span></span>
<span id="cb2-3"><a href="les-types-de-cartes.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> com, <span class="at">border =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb2-4"><a href="les-types-de-cartes.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> dep, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="cn">NA</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-5"><a href="les-types-de-cartes.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> route, <span class="at">lwd =</span> .<span class="dv">5</span>, <span class="at">col =</span> <span class="st">&quot;ivory4&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-6"><a href="les-types-de-cartes.html#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> resto, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">cex =</span> .<span class="dv">7</span>, <span class="at">col =</span> <span class="st">&quot;darkred&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/mf_base-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="carte-de-symboles-proportionnels" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Carte de symboles proportionnels</h2>
<p>Les cartes de symboles proportionnels sont utilisées pour représenter les variables de stocks (variables quantitatives absolues, la somme et la moyenne ont un sens).
La fonction <code>mf_map(..., type = "prop")</code> propose cette représentation.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="les-types-de-cartes.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Communes</span></span>
<span id="cb3-2"><a href="les-types-de-cartes.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> com)</span>
<span id="cb3-3"><a href="les-types-de-cartes.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Symboles proportionnels</span></span>
<span id="cb3-4"><a href="les-types-de-cartes.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb3-5"><a href="les-types-de-cartes.html#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com, </span>
<span id="cb3-6"><a href="les-types-de-cartes.html#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="st">&quot;POPULATION&quot;</span>,</span>
<span id="cb3-7"><a href="les-types-de-cartes.html#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;prop&quot;</span>,</span>
<span id="cb3-8"><a href="les-types-de-cartes.html#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="st">&quot;Population totale</span><span class="sc">\n</span><span class="st">(2015)&quot;</span></span>
<span id="cb3-9"><a href="les-types-de-cartes.html#cb3-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-10"><a href="les-types-de-cartes.html#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Titre</span></span>
<span id="cb3-11"><a href="les-types-de-cartes.html#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Distribution de la population dans le Lot&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/proportional_symbols-1.png" width="768" style="display: block; margin: auto;" /></p>
<div id="comparer-plusieurs-cartes" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Comparer plusieurs cartes</h3>
<p>Il est possible de fixer les dimensions du plus grand symbole correspondant à une certaine valeur avec les arguments <code>inches</code> et <code>val_max</code>. Nous pouvons ainsi construire des cartes en symboles proportionnels comparables.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="les-types-de-cartes.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher deux cartes en vis-à-vis</span></span>
<span id="cb4-2"><a href="les-types-de-cartes.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb4-3"><a href="les-types-de-cartes.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Communes</span></span>
<span id="cb4-4"><a href="les-types-de-cartes.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> com, <span class="at">border =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">lwd =</span> .<span class="dv">5</span>)</span>
<span id="cb4-5"><a href="les-types-de-cartes.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Population active occupée dans l&#39;industrie, les hommes</span></span>
<span id="cb4-6"><a href="les-types-de-cartes.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb4-7"><a href="les-types-de-cartes.html#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com, </span>
<span id="cb4-8"><a href="les-types-de-cartes.html#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="st">&quot;IND_H&quot;</span>, </span>
<span id="cb4-9"><a href="les-types-de-cartes.html#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;prop&quot;</span>, </span>
<span id="cb4-10"><a href="les-types-de-cartes.html#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">inches =</span> .<span class="dv">2</span>, </span>
<span id="cb4-11"><a href="les-types-de-cartes.html#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">val_max =</span> <span class="dv">600</span>, </span>
<span id="cb4-12"><a href="les-types-de-cartes.html#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="st">&quot;Hommes&quot;</span>, </span>
<span id="cb4-13"><a href="les-types-de-cartes.html#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_val_cex =</span> .<span class="dv">5</span>,</span>
<span id="cb4-14"><a href="les-types-de-cartes.html#cb4-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-15"><a href="les-types-de-cartes.html#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ajout d&#39;un titre</span></span>
<span id="cb4-16"><a href="les-types-de-cartes.html#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Population active occupée dans l&#39;industrie&quot;</span>)</span>
<span id="cb4-17"><a href="les-types-de-cartes.html#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="les-types-de-cartes.html#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Communes</span></span>
<span id="cb4-19"><a href="les-types-de-cartes.html#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> com, <span class="at">border =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">lwd =</span> .<span class="dv">5</span>)</span>
<span id="cb4-20"><a href="les-types-de-cartes.html#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Population active occupée dans l&#39;industrie, les femmes</span></span>
<span id="cb4-21"><a href="les-types-de-cartes.html#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb4-22"><a href="les-types-de-cartes.html#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com, </span>
<span id="cb4-23"><a href="les-types-de-cartes.html#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="st">&quot;IND_F&quot;</span>, </span>
<span id="cb4-24"><a href="les-types-de-cartes.html#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;prop&quot;</span>,</span>
<span id="cb4-25"><a href="les-types-de-cartes.html#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">inches =</span> .<span class="dv">2</span>, </span>
<span id="cb4-26"><a href="les-types-de-cartes.html#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">val_max =</span> <span class="dv">600</span>, </span>
<span id="cb4-27"><a href="les-types-de-cartes.html#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span><span class="st">&quot;Femmes&quot;</span>, </span>
<span id="cb4-28"><a href="les-types-de-cartes.html#cb4-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_val_cex =</span> .<span class="dv">5</span></span>
<span id="cb4-29"><a href="les-types-de-cartes.html#cb4-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-30"><a href="les-types-de-cartes.html#cb4-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-31"><a href="les-types-de-cartes.html#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co"># ajout d&#39;un titre</span></span>
<span id="cb4-32"><a href="les-types-de-cartes.html#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Population active occupée dans l&#39;industrie&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/proportional_symbols_comp-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>Nous avons ici affiché deux cartes en vis-à-vis, voir XXXX pour plus de détails.</p>
<!-- ### Les cartes de liens proportionnels -->
<!-- TO DO -->
</div>
</div>
<div id="carte-choroplèthe" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Carte choroplèthe</h2>
<p>Les cartes choroplèthes sont utilisées pour représenter les variables de ratios (variables quantitatives relatives, la moyenne a un sens, la somme n’a pas de sens).</p>
<p>Pour ce genre de représentation il faut au préalable :</p>
<ul>
<li>choisir une méthode de discrétisation pour transformer une série statistique continue en classes définies par des intervalles,</li>
<li>choisir un nombre de classes,</li>
<li>choisir une palette de couleurs.</li>
</ul>
<p>La fonction <code>mf_map(..., type = "choro")</code> permet de créer des cartes choroplètes. Les arguments <code>nbreaks</code> et <code>breaks</code> servent à paramétrer les discrétisations, et la fonction <code>mf_get_breaks()</code> permet de travailler sur les discrétisations en dehors de la fonction <code>mf_map()</code>. De même, l’argument <code>pal</code> est utilisé pour renseigner une palette de couleur, mais plusieurs fonctions peuvent être utilisées pour paramétrer les palettes en dehors de la fonction (<code>mf_get_pal</code>…).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="les-types-de-cartes.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Densité de population (hab./km2) en utilisant la fonction sf::st_area()</span></span>
<span id="cb5-2"><a href="les-types-de-cartes.html#cb5-2" aria-hidden="true" tabindex="-1"></a>com<span class="sc">$</span>DENS <span class="ot">&lt;-</span> <span class="fl">1e6</span> <span class="sc">*</span> com<span class="sc">$</span>POP <span class="sc">/</span> <span class="fu">as.numeric</span>(<span class="fu">st_area</span>(com))</span>
<span id="cb5-3"><a href="les-types-de-cartes.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb5-4"><a href="les-types-de-cartes.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com,</span>
<span id="cb5-5"><a href="les-types-de-cartes.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="st">&quot;DENS&quot;</span>,</span>
<span id="cb5-6"><a href="les-types-de-cartes.html#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;choro&quot;</span>,</span>
<span id="cb5-7"><a href="les-types-de-cartes.html#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">breaks =</span> <span class="st">&quot;quantile&quot;</span>,</span>
<span id="cb5-8"><a href="les-types-de-cartes.html#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="st">&quot;Dark Mint&quot;</span>,</span>
<span id="cb5-9"><a href="les-types-de-cartes.html#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd =</span> <span class="dv">1</span>,</span>
<span id="cb5-10"><a href="les-types-de-cartes.html#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="st">&quot;Densité de population</span><span class="sc">\n</span><span class="st">(habitants par km2)&quot;</span>, </span>
<span id="cb5-11"><a href="les-types-de-cartes.html#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_val_rnd =</span> <span class="dv">0</span></span>
<span id="cb5-12"><a href="les-types-de-cartes.html#cb5-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-13"><a href="les-types-de-cartes.html#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Distribution de la population dans le Lot (2018)&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/choro-1.png" width="768" style="display: block; margin: auto;" /></p>
<div id="discretisation" class="section level3" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Discrétisations</h3>
<p>La fonction <code>mf_get_breaks()</code> met à disposition les méthodes de discrétisations de variables classique : quantiles, moyenne/écart-type, amplitudes égales, moyennes emboîtées, Fisher-Jenks, géométrique …</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="les-types-de-cartes.html#cb6-1" aria-hidden="true" tabindex="-1"></a>com<span class="sc">$</span>POP_ACT <span class="ot">&lt;-</span> </span>
<span id="cb6-2"><a href="les-types-de-cartes.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  com<span class="sc">$</span>AGR_H <span class="sc">+</span> com<span class="sc">$</span>AGR_F <span class="sc">+</span> </span>
<span id="cb6-3"><a href="les-types-de-cartes.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  com<span class="sc">$</span>IND_H <span class="sc">+</span> com<span class="sc">$</span>IND_F <span class="sc">+</span> </span>
<span id="cb6-4"><a href="les-types-de-cartes.html#cb6-4" aria-hidden="true" tabindex="-1"></a>  com<span class="sc">$</span>BTP_H <span class="sc">+</span> com<span class="sc">$</span>BTP_F <span class="sc">+</span> </span>
<span id="cb6-5"><a href="les-types-de-cartes.html#cb6-5" aria-hidden="true" tabindex="-1"></a>  com<span class="sc">$</span>TER_H <span class="sc">+</span> com<span class="sc">$</span>TER_F</span>
<span id="cb6-6"><a href="les-types-de-cartes.html#cb6-6" aria-hidden="true" tabindex="-1"></a>com<span class="sc">$</span>SHARE_ACT <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> com<span class="sc">$</span>POP_ACT <span class="sc">/</span> com<span class="sc">$</span>POPULATION</span>
<span id="cb6-7"><a href="les-types-de-cartes.html#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="les-types-de-cartes.html#cb6-8" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">mf_get_breaks</span>(com<span class="sc">$</span>SHARE_ACT, <span class="at">nbreaks =</span> <span class="dv">6</span>, <span class="at">breaks =</span> <span class="st">&quot;equal&quot;</span>, <span class="at">freq =</span> T)</span>
<span id="cb6-9"><a href="les-types-de-cartes.html#cb6-9" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">mf_get_breaks</span>(com<span class="sc">$</span>SHARE_ACT, <span class="at">nbreaks =</span> <span class="dv">6</span>, <span class="at">breaks =</span> <span class="st">&quot;quantile&quot;</span>)</span>
<span id="cb6-10"><a href="les-types-de-cartes.html#cb6-10" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> <span class="fu">mf_get_breaks</span>(com<span class="sc">$</span>SHARE_ACT, <span class="at">nbreaks =</span> <span class="dv">6</span>, <span class="at">breaks =</span> <span class="st">&quot;geom&quot;</span>)</span>
<span id="cb6-11"><a href="les-types-de-cartes.html#cb6-11" aria-hidden="true" tabindex="-1"></a>d4 <span class="ot">&lt;-</span> <span class="fu">mf_get_breaks</span>(com<span class="sc">$</span>SHARE_ACT, <span class="at">breaks =</span> <span class="st">&quot;msd&quot;</span>, <span class="at">central =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/discr3-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="palettes" class="section level3" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Palettes de couleurs</h3>
<p>L’argument <code>pal</code> de <code>mf_map()</code> est dédié au choix d’une palette de couleur. Les palettes fournies par la fonction <code>hcl.colors()</code> peuvent être utilisées directement.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="les-types-de-cartes.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> com, <span class="at">var =</span> <span class="st">&quot;SHARE_ACT&quot;</span>, <span class="at">type =</span> <span class="st">&quot;choro&quot;</span>,</span>
<span id="cb7-2"><a href="les-types-de-cartes.html#cb7-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> d4, <span class="at">pal =</span> <span class="st">&quot;Blues 3&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/pal1-1.png" width="384" style="display: block; margin: auto;" /></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-2"></span>
<img src="img/swatch-plot-1.svg" alt="Palettes directement disponibles"  />
<p class="caption">
Figure 2.1: Palettes directement disponibles
</p>
</div>
<p>La fonction <code>mf_get_pal()</code> permet de construire une palette de couleur.
Cette fonction est surtout utile pour créer des palettes divergentes asymétriques équilibrées.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="les-types-de-cartes.html#cb8-1" aria-hidden="true" tabindex="-1"></a>mypal <span class="ot">&lt;-</span> <span class="fu">mf_get_pal</span>(<span class="at">n =</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">3</span>), <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;Burg&quot;</span>, <span class="st">&quot;Teal&quot;</span>))</span>
<span id="cb8-2"><a href="les-types-de-cartes.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">1</span>, <span class="fu">as.matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>), <span class="at">col=</span>mypal, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="at">xaxt =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb8-3"><a href="les-types-de-cartes.html#cb8-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">yaxt =</span> <span class="st">&quot;n&quot;</span>,<span class="at">bty =</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/pal2-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="carte-de-typologie" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Carte de typologie</h2>
<p>Les cartes de typologies sont utilisées pour représenter les variables qualitatives.
La fonction <code>mf_map(..., type = "typo")</code> propose cette représentation.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="les-types-de-cartes.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb9-2"><a href="les-types-de-cartes.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com,</span>
<span id="cb9-3"><a href="les-types-de-cartes.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">var=</span><span class="st">&quot;STATUT&quot;</span>,</span>
<span id="cb9-4"><a href="les-types-de-cartes.html#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;typo&quot;</span>,</span>
<span id="cb9-5"><a href="les-types-de-cartes.html#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">c</span>(<span class="st">&quot;aquamarine4&quot;</span>, <span class="st">&quot;yellow3&quot;</span>,<span class="st">&quot;wheat&quot;</span>),</span>
<span id="cb9-6"><a href="les-types-de-cartes.html#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd =</span> .<span class="dv">7</span>,</span>
<span id="cb9-7"><a href="les-types-de-cartes.html#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb9-8"><a href="les-types-de-cartes.html#cb9-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-9"><a href="les-types-de-cartes.html#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Statut Administratif&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/typo_simple-1.png" width="768" style="display: block; margin: auto;" /></p>
<div id="ordonner-les-valeurs-dans-la-légende" class="section level3" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Ordonner les valeurs dans la légende</h3>
<p>L’argument <code>val_order</code> sert à ordonner les modalités dans la légende.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="les-types-de-cartes.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb10-2"><a href="les-types-de-cartes.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com,</span>
<span id="cb10-3"><a href="les-types-de-cartes.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">var=</span><span class="st">&quot;STATUT&quot;</span>,</span>
<span id="cb10-4"><a href="les-types-de-cartes.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;typo&quot;</span>,</span>
<span id="cb10-5"><a href="les-types-de-cartes.html#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">c</span>(<span class="st">&quot;aquamarine4&quot;</span>, <span class="st">&quot;yellow3&quot;</span>,<span class="st">&quot;wheat&quot;</span>),</span>
<span id="cb10-6"><a href="les-types-de-cartes.html#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">val_order =</span> <span class="fu">c</span>(<span class="st">&quot;Préfecture&quot;</span>, <span class="st">&quot;Sous-préfecture&quot;</span>, <span class="st">&quot;Commune simple&quot;</span>),</span>
<span id="cb10-7"><a href="les-types-de-cartes.html#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd =</span> .<span class="dv">7</span>,</span>
<span id="cb10-8"><a href="les-types-de-cartes.html#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb10-9"><a href="les-types-de-cartes.html#cb10-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-10"><a href="les-types-de-cartes.html#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Statut Administratif&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/typo_order-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="les-cartes-de-points" class="section level3" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> Les cartes de points</h3>
<p>Quand l’implantation de la couche est ponctuelle, des symboles sont utilisés pour porter les couleurs de la typologie.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="les-types-de-cartes.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extraction des centroides de la préfectures et des sous-préfectures</span></span>
<span id="cb11-2"><a href="les-types-de-cartes.html#cb11-2" aria-hidden="true" tabindex="-1"></a>com_ctr <span class="ot">&lt;-</span> <span class="fu">st_centroid</span>(com[com<span class="sc">$</span>STATUT <span class="sc">!=</span> <span class="st">&quot;Commune simple&quot;</span>, ])</span>
<span id="cb11-3"><a href="les-types-de-cartes.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(com)</span>
<span id="cb11-4"><a href="les-types-de-cartes.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb11-5"><a href="les-types-de-cartes.html#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com_ctr, </span>
<span id="cb11-6"><a href="les-types-de-cartes.html#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="st">&quot;STATUT&quot;</span>, </span>
<span id="cb11-7"><a href="les-types-de-cartes.html#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;typo&quot;</span>, </span>
<span id="cb11-8"><a href="les-types-de-cartes.html#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="dv">3</span>, </span>
<span id="cb11-9"><a href="les-types-de-cartes.html#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">23</span>, </span>
<span id="cb11-10"><a href="les-types-de-cartes.html#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">c</span>(<span class="st">&quot;aquamarine4&quot;</span>, <span class="st">&quot;yellow3&quot;</span>),</span>
<span id="cb11-11"><a href="les-types-de-cartes.html#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="st">&quot;&quot;</span>, </span>
<span id="cb11-12"><a href="les-types-de-cartes.html#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">add =</span> <span class="cn">TRUE</span></span>
<span id="cb11-13"><a href="les-types-de-cartes.html#cb11-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-14"><a href="les-types-de-cartes.html#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Statut Administratif&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/typo_point-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="les-cartes-de-lignes" class="section level3" number="2.5.3">
<h3><span class="header-section-number">2.5.3</span> Les cartes de lignes</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="les-types-de-cartes.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sélection des routes qui intersectent la commune de Cahors</span></span>
<span id="cb12-2"><a href="les-types-de-cartes.html#cb12-2" aria-hidden="true" tabindex="-1"></a>cahors <span class="ot">&lt;-</span> com[com<span class="sc">$</span>NOM_COM <span class="sc">==</span> <span class="st">&quot;Cahors&quot;</span>, ]</span>
<span id="cb12-3"><a href="les-types-de-cartes.html#cb12-3" aria-hidden="true" tabindex="-1"></a>route_cahors <span class="ot">&lt;-</span> route[<span class="fu">st_intersects</span>(<span class="at">x =</span> route, <span class="at">y =</span> cahors, <span class="at">sparse =</span> <span class="cn">FALSE</span>), ]</span>
<span id="cb12-4"><a href="les-types-de-cartes.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(cahors)</span>
<span id="cb12-5"><a href="les-types-de-cartes.html#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb12-6"><a href="les-types-de-cartes.html#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> route_cahors,</span>
<span id="cb12-7"><a href="les-types-de-cartes.html#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="st">&quot;VOCATION&quot;</span>,</span>
<span id="cb12-8"><a href="les-types-de-cartes.html#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;typo&quot;</span>, </span>
<span id="cb12-9"><a href="les-types-de-cartes.html#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb12-10"><a href="les-types-de-cartes.html#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">mf_get_pal</span>(<span class="at">n =</span> <span class="dv">4</span>, <span class="st">&quot;Dark 2&quot;</span>),</span>
<span id="cb12-11"><a href="les-types-de-cartes.html#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="st">&quot;Type de route&quot;</span>,</span>
<span id="cb12-12"><a href="les-types-de-cartes.html#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">add =</span> <span class="cn">TRUE</span></span>
<span id="cb12-13"><a href="les-types-de-cartes.html#cb12-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-14"><a href="les-types-de-cartes.html#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Statut Administratif&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/unnamed-chunk-3-1.png" width="768" style="display: block; margin: auto;" /></p>
<!-- ## Les cartes en symboles gradués -->
<!-- ### Polygons -->
<!-- ### points -->
<!-- ### lignes -->
<!-- ## Les cartes en symboles -->
</div>
</div>
<div id="carte-de-stocks-et-de-ratios" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Carte de stocks et de ratios</h2>
<p>La fonction <code>mf_map(..., var = c("var1", "var2"), type = "prop_tchoro")</code> représente des symboles proportionnels dont les surfaces sont proportionnelles aux valeurs d’une variable et dont la couleur repose sur la discrétisation d’une seconde variable. La fonction utilise les arguments des fonctions <code>mf_map(..., type = "prop")</code> et <code>mf_map(..., type = "choro")</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="les-types-de-cartes.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> com)</span>
<span id="cb13-2"><a href="les-types-de-cartes.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb13-3"><a href="les-types-de-cartes.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com,</span>
<span id="cb13-4"><a href="les-types-de-cartes.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="fu">c</span>(<span class="st">&quot;POPULATION&quot;</span>, <span class="st">&quot;DENS&quot;</span>),</span>
<span id="cb13-5"><a href="les-types-de-cartes.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;prop_choro&quot;</span>,</span>
<span id="cb13-6"><a href="les-types-de-cartes.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">border =</span> <span class="st">&quot;grey50&quot;</span>,</span>
<span id="cb13-7"><a href="les-types-de-cartes.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd =</span> <span class="dv">1</span>,</span>
<span id="cb13-8"><a href="les-types-de-cartes.html#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_pos =</span> <span class="fu">c</span>(<span class="st">&quot;topright&quot;</span>, <span class="st">&quot;topleft&quot;</span>),</span>
<span id="cb13-9"><a href="les-types-de-cartes.html#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="fu">c</span>(<span class="st">&quot;Population&quot;</span>, <span class="st">&quot;Densité</span><span class="sc">\n</span><span class="st">de population</span><span class="sc">\n</span><span class="st">(en hab./km2)&quot;</span>),</span>
<span id="cb13-10"><a href="les-types-de-cartes.html#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">breaks =</span> <span class="st">&quot;q6&quot;</span>,</span>
<span id="cb13-11"><a href="les-types-de-cartes.html#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="st">&quot;Magenta&quot;</span>,</span>
<span id="cb13-12"><a href="les-types-de-cartes.html#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_val_rnd =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb13-13"><a href="les-types-de-cartes.html#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Population&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/choroprop-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="carte-de-stocks-et-de-catégories" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Carte de stocks et de catégories</h2>
<p>La fonction <code>mf_map(..., var = c("var1", "var2"), type = "prop_typo")</code> représente des symboles proportionnels dont les surfaces sont proportionnelles aux valeurs d’une variable et dont la couleur représente les modalités d’une variable qualitative. La fonction utilise les arguments des fonctions <code>mf_map(..., type = "prop")</code> et <code>mf_map(..., type = "typo")</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="les-types-de-cartes.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(<span class="at">x =</span> com)</span>
<span id="cb14-2"><a href="les-types-de-cartes.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_map</span>(</span>
<span id="cb14-3"><a href="les-types-de-cartes.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> com,</span>
<span id="cb14-4"><a href="les-types-de-cartes.html#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="fu">c</span>(<span class="st">&quot;POPULATION&quot;</span>, <span class="st">&quot;STATUT&quot;</span>),</span>
<span id="cb14-5"><a href="les-types-de-cartes.html#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;prop_typo&quot;</span>,</span>
<span id="cb14-6"><a href="les-types-de-cartes.html#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">c</span>(<span class="st">&quot;aquamarine4&quot;</span>, <span class="st">&quot;yellow3&quot;</span>,<span class="st">&quot;wheat&quot;</span>),</span>
<span id="cb14-7"><a href="les-types-de-cartes.html#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">val_order =</span> <span class="fu">c</span>(<span class="st">&quot;Préfecture&quot;</span>, <span class="st">&quot;Sous-préfecture&quot;</span>, <span class="st">&quot;Commune simple&quot;</span>),</span>
<span id="cb14-8"><a href="les-types-de-cartes.html#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_pos =</span> <span class="fu">c</span>(<span class="st">&quot;bottomleft&quot;</span>,<span class="st">&quot;topleft&quot;</span>),</span>
<span id="cb14-9"><a href="les-types-de-cartes.html#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">leg_title =</span> <span class="fu">c</span>(<span class="st">&quot;Population</span><span class="sc">\n</span><span class="st">(2015)&quot;</span>,</span>
<span id="cb14-10"><a href="les-types-de-cartes.html#cb14-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;Statut administratif&quot;</span>),</span>
<span id="cb14-11"><a href="les-types-de-cartes.html#cb14-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-12"><a href="les-types-de-cartes.html#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="fu">mf_title</span>(<span class="st">&quot;Population&quot;</span>)</span></code></pre></div>
<p><img src="Cartographie-avec-R_files/figure-html/typoprop-1.png" width="768" style="display: block; margin: auto;" /></p>
<!-- ## Cartes symboles + choro -->
<!-- ## Les cartes raster -->
<!-- `mf_raster()` -->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mapsf.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="la-mise-en-page.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {},
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
